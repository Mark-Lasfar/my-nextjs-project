{"version":3,"names":["cov_1kib40g87p","actualCoverage","s","generateCategorySchema","category","f","site","url","name","siteName","_settingactions","getSetting","baseUrl","b","description","isPartOf","hasPart","products","map","product","startsWith"],"sources":["/home/mark/Downloads/nextjs-amazona-main/lib/seo/category-schema.ts"],"sourcesContent":["import { getSetting } from '../actions/setting.actions'\n\nexport async function generateCategorySchema(category: {\n  name: string\n  description: string\n  products: Array<{\n    name: string\n    url: string\n  }>\n}) {\n  const {\n    site: { url, name: siteName },\n  } = await getSetting()\n  const baseUrl = url || 'https://hager-zon.vercel.app'\n\n  return {\n    '@context': 'https://schema.org',\n    '@type': 'CollectionPage',\n    name: category.name,\n    description: category.description,\n    isPartOf: {\n      '@type': 'WebSite',\n      name: siteName,\n      url: baseUrl,\n    },\n    hasPart: category.products.map((product) => ({\n      '@type': 'Product',\n      name: product.name,\n      url: product.url.startsWith('http')\n        ? product.url\n        : `${baseUrl}${product.url}`,\n    })),\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgBI;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BAdkB;;;;;;WAAAC,sBAAA;;;;;kCAFK;AAEpB,eAAeA,uBAAuBC,QAO5C;EAAA;EAAAJ,cAAA,GAAAK,CAAA;EACC,MAAM;IACJC,IAAA,EAAM;MAAEC,GAAG;MAAEC,IAAA,EAAMC;IAAQ;EAAE,CAC9B;EAAA;EAAA,CAAAT,cAAA,GAAAE,CAAA,OAAG,MAAM,IAAAQ,eAAA,CAAAC,UAAU;EACpB,MAAMC,OAAA;EAAA;EAAA,CAAAZ,cAAA,GAAAE,CAAA;EAAU;EAAA,CAAAF,cAAA,GAAAa,CAAA,UAAAN,GAAA;EAAA;EAAA,CAAAP,cAAA,GAAAa,CAAA,UAAO;EAAA;EAAAb,cAAA,GAAAE,CAAA;EAEvB,OAAO;IACL,YAAY;IACZ,SAAS;IACTM,IAAA,EAAMJ,QAAA,CAASI,IAAI;IACnBM,WAAA,EAAaV,QAAA,CAASU,WAAW;IACjCC,QAAA,EAAU;MACR,SAAS;MACTP,IAAA,EAAMC,QAAA;MACNF,GAAA,EAAKK;IACP;IACAI,OAAA,EAASZ,QAAA,CAASa,QAAQ,CAACC,GAAG,CAAEC,OAAA,IAAa;MAAA;MAAAnB,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAE,CAAA;MAAA;QAC3C,SAAS;QACTM,IAAA,EAAMW,OAAA,CAAQX,IAAI;QAClBD,GAAA,EAAKY,OAAA,CAAQZ,GAAG,CAACa,UAAU,CAAC;QAAA;QAAA,CAAApB,cAAA,GAAAa,CAAA,UACxBM,OAAA,CAAQZ,GAAG;QAAA;QAAA,CAAAP,cAAA,GAAAa,CAAA,UACX,GAAGD,OAAA,GAAUO,OAAA,CAAQZ,GAAG,EAAE;MAChC;IAAA;EACF;AACF","ignoreList":[]}