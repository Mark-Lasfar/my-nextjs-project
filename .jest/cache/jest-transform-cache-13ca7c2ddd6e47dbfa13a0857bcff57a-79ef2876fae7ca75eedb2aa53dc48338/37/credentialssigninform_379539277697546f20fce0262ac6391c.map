{"version":3,"names":["CredentialsSignInForm","signInDefaultValues","cov_11qh5xo4bl","s","process","env","NODE_ENV","b","email","password","f","setting","site","_usesettingstore","default","searchParams","_navigation","useSearchParams","callbackUrl","get","form","_reacthookform","useForm","resolver","_zod","zodResolver","_validator","UserSignInSchema","defaultValues","control","handleSubmit","onSubmit","data","_useractions","signInWithCredentials","redirect","error","_redirecterror","isRedirectError","_usetoast","toast","title","description","variant","_jsxruntime","jsx","_form","Form","jsxs","type","name","value","className","FormField","render","field","FormItem","FormLabel","FormControl","_input","Input","placeholder","FormMessage","_button","Button","_link","href"],"sources":["/home/mark/Downloads/nextjs-amazona-main/app/[locale]/(auth)/sign-in/credentials-signin-form.tsx"],"sourcesContent":["'use client'\nimport { redirect, useSearchParams } from 'next/navigation'\n\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport Link from 'next/link'\nimport useSettingStore from '@/hooks/use-setting-store'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { useForm } from 'react-hook-form'\nimport { IUserSignIn } from '@/types'\nimport { signInWithCredentials } from '@/lib/actions/user.actions'\n\nimport { toast } from '@/hooks/use-toast'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { UserSignInSchema } from '@/lib/validator'\nimport { isRedirectError } from 'next/dist/client/components/redirect-error'\n\nconst signInDefaultValues =\n  process.env.NODE_ENV === 'development'\n    ? {\n        email: 'admin@example.com',\n        password: '123456',\n      }\n    : {\n        email: '',\n        password: '',\n      }\n\nexport default function CredentialsSignInForm() {\n  const {\n    setting: { site },\n  } = useSettingStore()\n  const searchParams = useSearchParams()\n  const callbackUrl = searchParams.get('callbackUrl') || '/'\n\n  const form = useForm<IUserSignIn>({\n    resolver: zodResolver(UserSignInSchema),\n    defaultValues: signInDefaultValues,\n  })\n\n  const { control, handleSubmit } = form\n\n  const onSubmit = async (data: IUserSignIn) => {\n    try {\n      await signInWithCredentials({\n        email: data.email,\n        password: data.password,\n      })\n      redirect(callbackUrl)\n    } catch (error) {\n      if (isRedirectError(error)) {\n        throw error\n      }\n      toast({\n        title: 'Error',\n        description: 'Invalid email or password',\n        variant: 'destructive',\n      })\n    }\n  }\n\n  return (\n    <Form {...form}>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <input type=\"hidden\" name=\"callbackUrl\" value={callbackUrl} />\n        <div className=\"space-y-6\">\n          <FormField\n            control={control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem className=\"w-full\">\n                <FormLabel>Email</FormLabel>\n                <FormControl>\n                  <Input placeholder=\"Enter email address\" {...field} />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={control}\n            name=\"password\"\n            render={({ field }) => (\n              <FormItem className=\"w-full\">\n                <FormLabel>Password</FormLabel>\n                <FormControl>\n                  <Input\n                    type=\"password\"\n                    placeholder=\"Enter password\"\n                    {...field}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <div>\n            <Button type=\"submit\">Sign In</Button>\n          </div>\n          <div className=\"text-sm\">\n            By signing in, you agree to {site.name}&apos;s{' '}\n            <Link href=\"/page/conditions-of-use\">Conditions of Use</Link> and{' '}\n            <Link href=\"/page/privacy-policy\">Privacy Notice.</Link>\n          </div>\n        </div>\n      </form>\n    </Form>\n  )\n}\n"],"mappings":"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","ignoreList":[]}