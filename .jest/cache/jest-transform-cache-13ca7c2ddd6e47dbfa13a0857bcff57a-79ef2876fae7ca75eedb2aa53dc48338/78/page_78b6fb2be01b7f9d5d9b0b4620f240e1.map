{"version":3,"names":["default","cov_2nnozqn3qa","f","s","OrdersPage","metadata","PAGE_TITLE","title","props","searchParams","page","b","Number","orders","_orderactions","getMyOrders","_jsxruntime","jsxs","className","jsx","_link","href","_table","Table","TableHeader","TableRow","TableHead","TableBody","data","length","TableCell","colSpan","map","order","_id","_utils","formatId","formatDateTime","createdAt","dateTime","_productprice","price","totalPrice","plain","isPaid","paidAt","isDelivered","deliveredAt","totalPages","_pagination","_browsinghistorylist"],"sources":["/home/mark/Downloads/nextjs-amazona-main/app/[locale]/(root)/account/orders/page.tsx"],"sourcesContent":["import { Metadata } from 'next'\nimport Link from 'next/link'\n\nimport Pagination from '@/components/shared/pagination'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport { getMyOrders } from '@/lib/actions/order.actions'\nimport { IOrder } from '@/lib/db/models/order.model'\nimport { formatDateTime, formatId } from '@/lib/utils'\nimport BrowsingHistoryList from '@/components/shared/browsing-history-list'\nimport ProductPrice from '@/components/shared/product/product-price'\n\nconst PAGE_TITLE = 'Your Orders'\nexport const metadata: Metadata = {\n  title: PAGE_TITLE,\n}\nexport default async function OrdersPage(props: {\n  searchParams: Promise<{ page: string }>\n}) {\n  const searchParams = await props.searchParams\n  const page = Number(searchParams.page) || 1\n  const orders = await getMyOrders({\n    page,\n  })\n  return (\n    <div>\n      <div className=\"flex gap-2\">\n        <Link href=\"/account\">Your Account</Link>\n        <span>â€º</span>\n        <span>{PAGE_TITLE}</span>\n      </div>\n      <h1 className=\"h1-bold pt-4\">{PAGE_TITLE}</h1>\n      <div className=\"overflow-x-auto\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead>Id</TableHead>\n              <TableHead>Date</TableHead>\n              <TableHead>Total</TableHead>\n              <TableHead>Paid</TableHead>\n              <TableHead>Delivered</TableHead>\n              <TableHead>Actions</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {orders.data.length === 0 && (\n              <TableRow>\n                <TableCell colSpan={6} className=\"\">\n                  You have no orders.\n                </TableCell>\n              </TableRow>\n            )}\n            {orders.data.map((order: IOrder) => (\n              <TableRow key={order._id}>\n                <TableCell>\n                  <Link href={`/account/orders/${order._id}`}>\n                    {formatId(order._id)}\n                  </Link>\n                </TableCell>\n                <TableCell>\n                  {formatDateTime(order.createdAt!).dateTime}\n                </TableCell>\n                <TableCell>\n                  <ProductPrice price={order.totalPrice} plain />\n                </TableCell>\n                <TableCell>\n                  {order.isPaid && order.paidAt\n                    ? formatDateTime(order.paidAt).dateTime\n                    : 'No'}\n                </TableCell>\n                <TableCell>\n                  {order.isDelivered && order.deliveredAt\n                    ? formatDateTime(order.deliveredAt).dateTime\n                    : 'No'}\n                </TableCell>\n                <TableCell>\n                  <Link href={`/account/orders/${order._id}`}>\n                    <span className=\"px-2\">Details</span>\n                  </Link>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        {orders.totalPages > 1 && (\n          <Pagination page={page} totalPages={orders.totalPages} />\n        )}\n      </div>\n      <BrowsingHistoryList className=\"mt-16\" />\n    </div>\n  )\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAsBAA,OA2EC,WAAAA,CAAA;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WA3E6BC,UAAA;;EAHjBC,QAAQ,WAAAA,CAAA;IAAA;IAAAJ,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAARE,QAAA;;;;;;;;wEAlBI;;;wEAEM;;;kCAQhB;;;mCACqB;;;mCAEa;;;yEACT;;;yEACP;;;;;;;;;;;;;;;AAEzB,MAAMC,UAAA;AAAA;AAAA,CAAAL,cAAA,GAAAE,CAAA,QAAa;AACZ,MAAME,QAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAE,CAAA,QAAqB;EAChCI,KAAA,EAAOD;AACT;AACe,eAAeF,WAAWI,KAExC;EAAA;EAAAP,cAAA,GAAAC,CAAA;EACC,MAAMO,YAAA;EAAA;EAAA,CAAAR,cAAA,GAAAE,CAAA,QAAe,MAAMK,KAAA,CAAMC,YAAY;EAC7C,MAAMC,IAAA;EAAA;EAAA,CAAAT,cAAA,GAAAE,CAAA;EAAO;EAAA,CAAAF,cAAA,GAAAU,CAAA,UAAAC,MAAA,CAAOH,YAAA,CAAaC,IAAI;EAAA;EAAA,CAAAT,cAAA,GAAAU,CAAA,UAAK;EAC1C,MAAME,MAAA;EAAA;EAAA,CAAAZ,cAAA,GAAAE,CAAA,QAAS,MAAM,IAAAW,aAAA,CAAAC,WAAW,EAAC;IAC/BL;EACF;EAAA;EAAAT,cAAA,GAAAE,CAAA;EACA,oBACE,IAAAa,WAAA,CAAAC,IAAA,EAAC;4BACC,IAAAD,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;8BACb,IAAAF,WAAA,CAAAG,GAAA,EAACC,KAAA,CAAApB,OAAI;QAACqB,IAAA,EAAK;kBAAW;uBACtB,IAAAL,WAAA,CAAAG,GAAA,EAAC;kBAAK;uBACN,IAAAH,WAAA,CAAAG,GAAA,EAAC;kBAAMb;;qBAET,IAAAU,WAAA,CAAAG,GAAA,EAAC;MAAGD,SAAA,EAAU;gBAAgBZ;qBAC9B,IAAAU,WAAA,CAAAC,IAAA,EAAC;MAAIC,SAAA,EAAU;8BACb,IAAAF,WAAA,CAAAC,IAAA,EAACK,MAAA,CAAAC,KAAK;gCACJ,IAAAP,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAE,WAAW;oBACV,iBAAAR,WAAA,CAAAC,IAAA,EAACK,MAAA,CAAAG,QAAQ;oCACP,IAAAT,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAI,SAAS;wBAAC;6BACX,IAAAV,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAI,SAAS;wBAAC;6BACX,IAAAV,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAI,SAAS;wBAAC;6BACX,IAAAV,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAI,SAAS;wBAAC;6BACX,IAAAV,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAI,SAAS;wBAAC;6BACX,IAAAV,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAI,SAAS;wBAAC;;;yBAGf,IAAAV,WAAA,CAAAC,IAAA,EAACK,MAAA,CAAAK,SAAS;;UACP;UAAA,CAAA1B,cAAA,GAAAU,CAAA,UAAAE,MAAA,CAAOe,IAAI,CAACC,MAAM,KAAK;UAAA;UAAA,CAAA5B,cAAA,GAAAU,CAAA,uBACtB,IAAAK,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAG,QAAQ;sBACP,iBAAAT,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAQ,SAAS;cAACC,OAAA,EAAS;cAAGb,SAAA,EAAU;wBAAG;;eAKvCL,MAAA,CAAOe,IAAI,CAACI,GAAG,CAAEC,KAAA,IAChB;YAAA;YAAAhC,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAE,CAAA;YAAA,OADgB,aAChB,IAAAa,WAAA,CAAAC,IAAA,EAACK,MAAA,CAAAG,QAAQ;sCACP,IAAAT,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAQ,SAAS;0BACR,iBAAAd,WAAA,CAAAG,GAAA,EAACC,KAAA,CAAApB,OAAI;kBAACqB,IAAA,EAAM,mBAAmBY,KAAA,CAAMC,GAAG,EAAE;4BACvC,IAAAC,MAAA,CAAAC,QAAQ,EAACH,KAAA,CAAMC,GAAG;;+BAGvB,IAAAlB,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAQ,SAAS;0BACP,IAAAK,MAAA,CAAAE,cAAc,EAACJ,KAAA,CAAMK,SAAS,EAAGC;+BAEpC,IAAAvB,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAQ,SAAS;0BACR,iBAAAd,WAAA,CAAAG,GAAA,EAACqB,aAAA,CAAAxC,OAAY;kBAACyC,KAAA,EAAOR,KAAA,CAAMS,UAAU;kBAAEC,KAAK;;+BAE9C,IAAA3B,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAQ,SAAS;;gBACP;gBAAA,CAAA7B,cAAA,GAAAU,CAAA,UAAAsB,KAAA,CAAMW,MAAM;gBAAA;gBAAA,CAAA3C,cAAA,GAAAU,CAAA,UAAIsB,KAAA,CAAMY,MAAM;gBAAA;gBAAA,CAAA5C,cAAA,GAAAU,CAAA,UACzB,IAAAwB,MAAA,CAAAE,cAAc,EAACJ,KAAA,CAAMY,MAAM,EAAEN,QAAQ;gBAAA;gBAAA,CAAAtC,cAAA,GAAAU,CAAA,UACrC;+BAEN,IAAAK,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAQ,SAAS;;gBACP;gBAAA,CAAA7B,cAAA,GAAAU,CAAA,UAAAsB,KAAA,CAAMa,WAAW;gBAAA;gBAAA,CAAA7C,cAAA,GAAAU,CAAA,UAAIsB,KAAA,CAAMc,WAAW;gBAAA;gBAAA,CAAA9C,cAAA,GAAAU,CAAA,UACnC,IAAAwB,MAAA,CAAAE,cAAc,EAACJ,KAAA,CAAMc,WAAW,EAAER,QAAQ;gBAAA;gBAAA,CAAAtC,cAAA,GAAAU,CAAA,UAC1C;+BAEN,IAAAK,WAAA,CAAAG,GAAA,EAACG,MAAA,CAAAQ,SAAS;0BACR,iBAAAd,WAAA,CAAAG,GAAA,EAACC,KAAA,CAAApB,OAAI;kBAACqB,IAAA,EAAM,mBAAmBY,KAAA,CAAMC,GAAG,EAAE;4BACxC,iBAAAlB,WAAA,CAAAG,GAAA,EAAC;oBAAKD,SAAA,EAAU;8BAAO;;;;eAxBde,KAAA,CAAMC,GAAG;UAAA;;;MA+B7B;MAAA,CAAAjC,cAAA,GAAAU,CAAA,UAAAE,MAAA,CAAOmC,UAAU,GAAG;MAAA;MAAA,CAAA/C,cAAA,GAAAU,CAAA,uBACnB,IAAAK,WAAA,CAAAG,GAAA,EAAC8B,WAAA,CAAAjD,OAAU;QAACU,IAAA,EAAMA,IAAA;QAAMsC,UAAA,EAAYnC,MAAA,CAAOmC;;qBAG/C,IAAAhC,WAAA,CAAAG,GAAA,EAAC+B,oBAAA,CAAAlD,OAAmB;MAACkB,SAAA,EAAU;;;AAGrC","ignoreList":[]}