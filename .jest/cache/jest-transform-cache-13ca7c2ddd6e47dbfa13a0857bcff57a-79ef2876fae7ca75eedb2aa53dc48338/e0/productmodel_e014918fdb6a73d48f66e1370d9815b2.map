{"version":3,"names":["cov_1mef4nabrp","actualCoverage","s","_default","productSchema","_mongoose","Schema","name","type","String","required","slug","unique","category","images","brand","description","trim","price","Number","listPrice","countInStock","tags","default","colors","sizes","avgRating","numReviews","ratingDistribution","rating","count","numSales","isPublished","Boolean","reviews","Types","ObjectId","ref","timestamps","Product","b","models","model"],"sources":["/home/mark/Downloads/nextjs-amazona-main/lib/db/models/product.model.ts"],"sourcesContent":["import { Document, Model, model, models, Schema } from 'mongoose'\nimport { IProductInput } from '@/types'\n\nexport interface IProduct extends Document, IProductInput {\n  _id: string\n  createdAt: Date\n  updatedAt: Date\n}\n\nconst productSchema = new Schema<IProduct>(\n  {\n    name: {\n      type: String,\n      required: true,\n    },\n    slug: {\n      type: String,\n      required: true,\n      unique: true,\n    },\n    category: {\n      type: String,\n      required: true,\n    },\n    images: [String],\n    brand: {\n      type: String,\n      required: true,\n    },\n    description: {\n      type: String,\n      trim: true,\n    },\n    price: {\n      type: Number,\n      required: true,\n    },\n    listPrice: {\n      type: Number,\n      required: true,\n    },\n    countInStock: {\n      type: Number,\n      required: true,\n    },\n    tags: { type: [String], default: ['new arrival'] },\n    colors: { type: [String], default: ['White', 'Red', 'Black'] },\n    sizes: { type: [String], default: ['S', 'M', 'L'] },\n    avgRating: {\n      type: Number,\n      required: true,\n      default: 0,\n    },\n    numReviews: {\n      type: Number,\n      required: true,\n      default: 0,\n    },\n    ratingDistribution: [\n      {\n        rating: {\n          type: Number,\n          required: true,\n        },\n        count: {\n          type: Number,\n          required: true,\n        },\n      },\n    ],\n    numSales: {\n      type: Number,\n      required: true,\n      default: 0,\n    },\n    isPublished: {\n      type: Boolean,\n      required: true,\n      default: false,\n    },\n    reviews: [\n      {\n        type: Schema.Types.ObjectId,\n        ref: 'Review',\n        default: [],\n      },\n    ],\n  },\n  {\n    timestamps: true,\n  }\n)\n\nconst Product =\n  (models.Product as Model<IProduct>) ||\n  model<IProduct>('Product', productSchema)\n\nexport default Product\n"],"mappings":"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","ignoreList":[]}