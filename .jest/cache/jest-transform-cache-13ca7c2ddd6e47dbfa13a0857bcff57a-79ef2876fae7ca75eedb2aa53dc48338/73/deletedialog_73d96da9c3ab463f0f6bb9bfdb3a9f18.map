{"version":3,"names":["DeleteDialog","id","action","callbackAction","cov_1ipjh9wawv","f","open","setOpen","s","_react","useState","isPending","startTransition","useTransition","toast","_usetoast","useToast","_jsxruntime","jsxs","_alertdialog","AlertDialog","onOpenChange","jsx","AlertDialogTrigger","asChild","_button","Button","size","variant","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","disabled","onClick","res","success","b","description","message"],"sources":["/home/mark/Downloads/nextjs-amazona-main/components/shared/delete-dialog.tsx"],"sourcesContent":["'use client'\nimport { useState, useTransition } from 'react'\n\nimport {\n  AlertDialog,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '@/components/ui/alert-dialog'\nimport { Button } from '@/components/ui/button'\nimport { useToast } from '@/hooks/use-toast'\n\nexport default function DeleteDialog({\n  id,\n  action,\n  callbackAction,\n}: {\n  id: string\n  action: (id: string) => Promise<{ success: boolean; message: string }>\n  callbackAction?: () => void\n}) {\n  const [open, setOpen] = useState(false)\n  const [isPending, startTransition] = useTransition()\n  const { toast } = useToast()\n  return (\n    <AlertDialog open={open} onOpenChange={setOpen}>\n      <AlertDialogTrigger asChild>\n        <Button size=\"sm\" variant=\"outline\">\n          Delete\n        </Button>\n      </AlertDialogTrigger>\n      <AlertDialogContent>\n        <AlertDialogHeader>\n          <AlertDialogTitle>Are you absolutely sure?</AlertDialogTitle>\n          <AlertDialogDescription>\n            This action cannot be undone.\n          </AlertDialogDescription>\n        </AlertDialogHeader>\n        <AlertDialogFooter>\n          <AlertDialogCancel>Cancel</AlertDialogCancel>\n\n          <Button\n            variant=\"destructive\"\n            size=\"sm\"\n            disabled={isPending}\n            onClick={() =>\n              startTransition(async () => {\n                const res = await action(id)\n                if (!res.success) {\n                  toast({\n                    variant: 'destructive',\n                    description: res.message,\n                  })\n                } else {\n                  setOpen(false)\n                  toast({\n                    description: res.message,\n                  })\n                  if (callbackAction) callbackAction()\n                }\n              })\n            }\n          >\n            {isPending ? 'Deleting...' : 'Delete'}\n          </Button>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  )\n}\n"],"mappings":"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","ignoreList":[]}