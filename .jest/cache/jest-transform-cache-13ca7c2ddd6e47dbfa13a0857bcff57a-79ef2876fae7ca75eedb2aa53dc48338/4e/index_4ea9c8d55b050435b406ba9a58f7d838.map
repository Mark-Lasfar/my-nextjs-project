{"version":3,"names":["connectToDatabase","cached","cov_1bjmnqn365","s","b","global","mongoose","conn","promise","MONGODB_URI","process","env","f","Error","_mongoose","default","connect"],"sources":["/home/mark/Downloads/nextjs-amazona-main/lib/db/index.ts"],"sourcesContent":["import mongoose from 'mongoose'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst cached = (global as any).mongoose || { conn: null, promise: null }\n\nexport const connectToDatabase = async (\n  MONGODB_URI = process.env.MONGODB_URI\n) => {\n  if (cached.conn) return cached.conn\n\n  if (!MONGODB_URI) throw new Error('MONGODB_URI is missing')\n\n  cached.promise = cached.promise || mongoose.connect(MONGODB_URI)\n\n  cached.conn = await cached.promise\n\n  return cached.conn\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAKa;;;;;;WAAAA,iBAAA;;;;;wEALQ;;;;;;;;;;;;;;;AAErB;AACA,MAAMC,MAAA;AAAA;AAAA,CAAAC,cAAA,GAAAC,CAAA;AAAS;AAAA,CAAAD,cAAA,GAAAE,CAAA,UAAAC,MAAC,CAAeC,QAAQ;AAAA;AAAA,CAAAJ,cAAA,GAAAE,CAAA,UAAI;EAAEG,IAAA,EAAM;EAAMC,OAAA,EAAS;AAAK;AAAA;AAAAN,cAAA,GAAAC,CAAA;AAEhE,MAAMH,iBAAA,GAAoB,MAAAA,CAC/BS,WAAA;AAAA;AAAA,CAAAP,cAAA,GAAAE,CAAA,UAAcM,OAAA,CAAQC,GAAG,CAACF,WAAW;EAAA;EAAAP,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAC,CAAA;EAErC,IAAIF,MAAA,CAAOM,IAAI,EAAE;IAAA;IAAAL,cAAA,GAAAE,CAAA;IAAAF,cAAA,GAAAC,CAAA;IAAA,OAAOF,MAAA,CAAOM,IAAI;EAAA;EAAA;EAAA;IAAAL,cAAA,GAAAE,CAAA;EAAA;EAAAF,cAAA,GAAAC,CAAA;EAEnC,IAAI,CAACM,WAAA,EAAa;IAAA;IAAAP,cAAA,GAAAE,CAAA;IAAAF,cAAA,GAAAC,CAAA;IAAA,MAAM,IAAIU,KAAA,CAAM;EAAA;EAAA;EAAA;IAAAX,cAAA,GAAAE,CAAA;EAAA;EAAAF,cAAA,GAAAC,CAAA;EAElCF,MAAA,CAAOO,OAAO;EAAG;EAAA,CAAAN,cAAA,GAAAE,CAAA,UAAAH,MAAA,CAAOO,OAAO;EAAA;EAAA,CAAAN,cAAA,GAAAE,CAAA,UAAIU,SAAA,CAAAC,OAAQ,CAACC,OAAO,CAACP,WAAA;EAAA;EAAAP,cAAA,GAAAC,CAAA;EAEpDF,MAAA,CAAOM,IAAI,GAAG,MAAMN,MAAA,CAAOO,OAAO;EAAA;EAAAN,cAAA,GAAAC,CAAA;EAElC,OAAOF,MAAA,CAAOM,IAAI;AACpB","ignoreList":[]}