{"version":3,"names":["CredentialsSignInForm","signUpDefaultValues","cov_2p5a3qsxic","s","process","env","NODE_ENV","b","name","email","password","confirmPassword","f","setting","site","_usesettingstore","default","searchParams","_navigation","useSearchParams","callbackUrl","get","form","_reacthookform","useForm","resolver","_zod","zodResolver","_validator","UserSignUpSchema","defaultValues","control","handleSubmit","onSubmit","data","res","_useractions","registerUser","success","_usetoast","toast","title","description","error","variant","signInWithCredentials","redirect","_redirecterror","isRedirectError","_jsxruntime","jsx","_form","Form","jsxs","type","value","className","FormField","render","field","FormItem","FormLabel","FormControl","_input","Input","placeholder","FormMessage","_button","Button","_link","href","_separator","Separator"],"sources":["/home/mark/Downloads/nextjs-amazona-main/app/[locale]/(auth)/sign-up/signup-form.tsx"],"sourcesContent":["'use client'\nimport { redirect, useSearchParams } from 'next/navigation'\n\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport Link from 'next/link'\nimport useSettingStore from '@/hooks/use-setting-store'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { useForm } from 'react-hook-form'\nimport { IUserSignUp } from '@/types'\nimport { registerUser, signInWithCredentials } from '@/lib/actions/user.actions'\nimport { toast } from '@/hooks/use-toast'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { UserSignUpSchema } from '@/lib/validator'\nimport { Separator } from '@/components/ui/separator'\nimport { isRedirectError } from 'next/dist/client/components/redirect-error'\n\nconst signUpDefaultValues =\n  process.env.NODE_ENV === 'development'\n    ? {\n        name: 'john doe',\n        email: 'john@me.com',\n        password: '123456',\n        confirmPassword: '123456',\n      }\n    : {\n        name: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n      }\n\nexport default function CredentialsSignInForm() {\n  const {\n    setting: { site },\n  } = useSettingStore()\n  const searchParams = useSearchParams()\n  const callbackUrl = searchParams.get('callbackUrl') || '/'\n\n  const form = useForm<IUserSignUp>({\n    resolver: zodResolver(UserSignUpSchema),\n    defaultValues: signUpDefaultValues,\n  })\n\n  const { control, handleSubmit } = form\n\n  const onSubmit = async (data: IUserSignUp) => {\n    try {\n      const res = await registerUser(data)\n      if (!res.success) {\n        toast({\n          title: 'Error',\n          description: res.error,\n          variant: 'destructive',\n        })\n        return\n      }\n      await signInWithCredentials({\n        email: data.email,\n        password: data.password,\n      })\n      redirect(callbackUrl)\n    } catch (error) {\n      if (isRedirectError(error)) {\n        throw error\n      }\n      toast({\n        title: 'Error',\n        description: 'Invalid email or password',\n        variant: 'destructive',\n      })\n    }\n  }\n\n  return (\n    <Form {...form}>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <input type=\"hidden\" name=\"callbackUrl\" value={callbackUrl} />\n        <div className=\"space-y-6\">\n          <FormField\n            control={control}\n            name=\"name\"\n            render={({ field }) => (\n              <FormItem className=\"w-full\">\n                <FormLabel>Name</FormLabel>\n                <FormControl>\n                  <Input placeholder=\"Enter name address\" {...field} />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem className=\"w-full\">\n                <FormLabel>Email</FormLabel>\n                <FormControl>\n                  <Input placeholder=\"Enter email address\" {...field} />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={control}\n            name=\"password\"\n            render={({ field }) => (\n              <FormItem className=\"w-full\">\n                <FormLabel>Password</FormLabel>\n                <FormControl>\n                  <Input\n                    type=\"password\"\n                    placeholder=\"Enter password\"\n                    {...field}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          <FormField\n            control={control}\n            name=\"confirmPassword\"\n            render={({ field }) => (\n              <FormItem className=\"w-full\">\n                <FormLabel>Confirm Password</FormLabel>\n                <FormControl>\n                  <Input\n                    type=\"password\"\n                    placeholder=\"Confirm Password\"\n                    {...field}\n                  />\n                </FormControl>\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n          <div>\n            <Button type=\"submit\">Sign Up</Button>\n          </div>\n          <div className=\"text-sm\">\n            By creating an account, you agree to {site.name}&apos;s{' '}\n            <Link href=\"/page/conditions-of-use\">Conditions of Use</Link> and{' '}\n            <Link href=\"/page/privacy-policy\"> Privacy Notice. </Link>\n          </div>\n          <Separator className=\"mb-4\" />\n          <div className=\"text-sm\">\n            Already have an account?{' '}\n            <Link className=\"link\" href={`/sign-in?callbackUrl=${callbackUrl}`}>\n              Sign In\n            </Link>\n          </div>\n        </div>\n      </form>\n    </Form>\n  )\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAuCA;;;;;;WAAwBA,qBAAA;;;;;;;;kCAtCkB;;;kCAEnB;;;kCACD;;;wEACL;;;wEACW;;;kCAQrB;;;mCACiB;;;mCAE4B;;;mCAC9B;;;mCACM;;;mCACK;;;mCACP;;;mCACM;;;;;;;;;;;;;;;AAEhC,MAAMC,mBAAA;AAAA;AAAA,CAAAC,cAAA,GAAAC,CAAA,QACJC,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK;AAAA;AAAA,CAAAJ,cAAA,GAAAK,CAAA,UACrB;EACEC,IAAA,EAAM;EACNC,KAAA,EAAO;EACPC,QAAA,EAAU;EACVC,eAAA,EAAiB;AACnB;AAAA;AAAA,CAAAT,cAAA,GAAAK,CAAA,UACA;EACEC,IAAA,EAAM;EACNC,KAAA,EAAO;EACPC,QAAA,EAAU;EACVC,eAAA,EAAiB;AACnB;AAES,SAASX,sBAAA;EAAA;EAAAE,cAAA,GAAAU,CAAA;EACtB,MAAM;IACJC,OAAA,EAAS;MAAEC;IAAI;EAAE,CAClB;EAAA;EAAA,CAAAZ,cAAA,GAAAC,CAAA,QAAG,IAAAY,gBAAA,CAAAC,OAAe;EACnB,MAAMC,YAAA;EAAA;EAAA,CAAAf,cAAA,GAAAC,CAAA,QAAe,IAAAe,WAAA,CAAAC,eAAe;EACpC,MAAMC,WAAA;EAAA;EAAA,CAAAlB,cAAA,GAAAC,CAAA;EAAc;EAAA,CAAAD,cAAA,GAAAK,CAAA,UAAAU,YAAA,CAAaI,GAAG,CAAC;EAAA;EAAA,CAAAnB,cAAA,GAAAK,CAAA,UAAkB;EAEvD,MAAMe,IAAA;EAAA;EAAA,CAAApB,cAAA,GAAAC,CAAA,QAAO,IAAAoB,cAAA,CAAAC,OAAO,EAAc;IAChCC,QAAA,EAAU,IAAAC,IAAA,CAAAC,WAAW,EAACC,UAAA,CAAAC,gBAAgB;IACtCC,aAAA,EAAe7B;EACjB;EAEA,MAAM;IAAE8B,OAAO;IAAEC;EAAY,CAAE;EAAA;EAAA,CAAA9B,cAAA,GAAAC,CAAA,QAAGmB,IAAA;EAAA;EAAApB,cAAA,GAAAC,CAAA;EAElC,MAAM8B,QAAA,GAAW,MAAOC,IAAA;IAAA;IAAAhC,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAC,CAAA;IACtB,IAAI;MACF,MAAMgC,GAAA;MAAA;MAAA,CAAAjC,cAAA,GAAAC,CAAA,QAAM,MAAM,IAAAiC,YAAA,CAAAC,YAAY,EAACH,IAAA;MAAA;MAAAhC,cAAA,GAAAC,CAAA;MAC/B,IAAI,CAACgC,GAAA,CAAIG,OAAO,EAAE;QAAA;QAAApC,cAAA,GAAAK,CAAA;QAAAL,cAAA,GAAAC,CAAA;QAChB,IAAAoC,SAAA,CAAAC,KAAK,EAAC;UACJC,KAAA,EAAO;UACPC,WAAA,EAAaP,GAAA,CAAIQ,KAAK;UACtBC,OAAA,EAAS;QACX;QAAA;QAAA1C,cAAA,GAAAC,CAAA;QACA;MACF;MAAA;MAAA;QAAAD,cAAA,GAAAK,CAAA;MAAA;MAAAL,cAAA,GAAAC,CAAA;MACA,MAAM,IAAAiC,YAAA,CAAAS,qBAAqB,EAAC;QAC1BpC,KAAA,EAAOyB,IAAA,CAAKzB,KAAK;QACjBC,QAAA,EAAUwB,IAAA,CAAKxB;MACjB;MAAA;MAAAR,cAAA,GAAAC,CAAA;MACA,IAAAe,WAAA,CAAA4B,QAAQ,EAAC1B,WAAA;IACX,EAAE,OAAOuB,KAAA,EAAO;MAAA;MAAAzC,cAAA,GAAAC,CAAA;MACd,IAAI,IAAA4C,cAAA,CAAAC,eAAe,EAACL,KAAA,GAAQ;QAAA;QAAAzC,cAAA,GAAAK,CAAA;QAAAL,cAAA,GAAAC,CAAA;QAC1B,MAAMwC,KAAA;MACR;MAAA;MAAA;QAAAzC,cAAA,GAAAK,CAAA;MAAA;MAAAL,cAAA,GAAAC,CAAA;MACA,IAAAoC,SAAA,CAAAC,KAAK,EAAC;QACJC,KAAA,EAAO;QACPC,WAAA,EAAa;QACbE,OAAA,EAAS;MACX;IACF;EACF;EAAA;EAAA1C,cAAA,GAAAC,CAAA;EAEA,oBACE,IAAA8C,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAC,IAAI;IAAE,GAAG9B,IAAI;cACZ,iBAAA2B,WAAA,CAAAI,IAAA,EAAC;MAAKpB,QAAA,EAAUD,YAAA,CAAaC,QAAA;8BAC3B,IAAAgB,WAAA,CAAAC,GAAA,EAAC;QAAMI,IAAA,EAAK;QAAS9C,IAAA,EAAK;QAAc+C,KAAA,EAAOnC;uBAC/C,IAAA6B,WAAA,CAAAI,IAAA,EAAC;QAAIG,SAAA,EAAU;gCACb,IAAAP,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAM,SAAS;UACR1B,OAAA,EAASA,OAAA;UACTvB,IAAA,EAAK;UACLkD,MAAA,EAAQA,CAAC;YAAEC;UAAK,CAAE,KAChB;YAAA;YAAAzD,cAAA,GAAAU,CAAA;YAAAV,cAAA,GAAAC,CAAA;YAAA,OADgB,aAChB,IAAA8C,WAAA,CAAAI,IAAA,EAACF,KAAA,CAAAS,QAAQ;cAACJ,SAAA,EAAU;sCAClB,IAAAP,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAU,SAAS;0BAAC;+BACX,IAAAZ,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAW,WAAW;0BACV,iBAAAb,WAAA,CAAAC,GAAA,EAACa,MAAA,CAAAC,KAAK;kBAACC,WAAA,EAAY;kBAAsB,GAAGN;;+BAE9C,IAAAV,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAe,WAAW;;;yBAKlB,IAAAjB,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAM,SAAS;UACR1B,OAAA,EAASA,OAAA;UACTvB,IAAA,EAAK;UACLkD,MAAA,EAAQA,CAAC;YAAEC;UAAK,CAAE,KAChB;YAAA;YAAAzD,cAAA,GAAAU,CAAA;YAAAV,cAAA,GAAAC,CAAA;YAAA,OADgB,aAChB,IAAA8C,WAAA,CAAAI,IAAA,EAACF,KAAA,CAAAS,QAAQ;cAACJ,SAAA,EAAU;sCAClB,IAAAP,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAU,SAAS;0BAAC;+BACX,IAAAZ,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAW,WAAW;0BACV,iBAAAb,WAAA,CAAAC,GAAA,EAACa,MAAA,CAAAC,KAAK;kBAACC,WAAA,EAAY;kBAAuB,GAAGN;;+BAE/C,IAAAV,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAe,WAAW;;;yBAKlB,IAAAjB,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAM,SAAS;UACR1B,OAAA,EAASA,OAAA;UACTvB,IAAA,EAAK;UACLkD,MAAA,EAAQA,CAAC;YAAEC;UAAK,CAAE,KAChB;YAAA;YAAAzD,cAAA,GAAAU,CAAA;YAAAV,cAAA,GAAAC,CAAA;YAAA,OADgB,aAChB,IAAA8C,WAAA,CAAAI,IAAA,EAACF,KAAA,CAAAS,QAAQ;cAACJ,SAAA,EAAU;sCAClB,IAAAP,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAU,SAAS;0BAAC;+BACX,IAAAZ,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAW,WAAW;0BACV,iBAAAb,WAAA,CAAAC,GAAA,EAACa,MAAA,CAAAC,KAAK;kBACJV,IAAA,EAAK;kBACLW,WAAA,EAAY;kBACX,GAAGN;;+BAGR,IAAAV,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAe,WAAW;;;yBAIlB,IAAAjB,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAM,SAAS;UACR1B,OAAA,EAASA,OAAA;UACTvB,IAAA,EAAK;UACLkD,MAAA,EAAQA,CAAC;YAAEC;UAAK,CAAE,KAChB;YAAA;YAAAzD,cAAA,GAAAU,CAAA;YAAAV,cAAA,GAAAC,CAAA;YAAA,OADgB,aAChB,IAAA8C,WAAA,CAAAI,IAAA,EAACF,KAAA,CAAAS,QAAQ;cAACJ,SAAA,EAAU;sCAClB,IAAAP,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAU,SAAS;0BAAC;+BACX,IAAAZ,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAW,WAAW;0BACV,iBAAAb,WAAA,CAAAC,GAAA,EAACa,MAAA,CAAAC,KAAK;kBACJV,IAAA,EAAK;kBACLW,WAAA,EAAY;kBACX,GAAGN;;+BAGR,IAAAV,WAAA,CAAAC,GAAA,EAACC,KAAA,CAAAe,WAAW;;;yBAIlB,IAAAjB,WAAA,CAAAC,GAAA,EAAC;oBACC,iBAAAD,WAAA,CAAAC,GAAA,EAACiB,OAAA,CAAAC,MAAM;YAACd,IAAA,EAAK;sBAAS;;yBAExB,IAAAL,WAAA,CAAAI,IAAA,EAAC;UAAIG,SAAA,EAAU;qBAAU,yCACe1C,IAAA,CAAKN,IAAI,EAAC,MAAQ,K,aACxD,IAAAyC,WAAA,CAAAC,GAAA,EAACmB,KAAA,CAAArD,OAAI;YAACsD,IAAA,EAAK;sBAA0B;cAAwB,QAAK,K,aAClE,IAAArB,WAAA,CAAAC,GAAA,EAACmB,KAAA,CAAArD,OAAI;YAACsD,IAAA,EAAK;sBAAuB;;yBAEpC,IAAArB,WAAA,CAAAC,GAAA,EAACqB,UAAA,CAAAC,SAAS;UAAChB,SAAA,EAAU;yBACrB,IAAAP,WAAA,CAAAI,IAAA,EAAC;UAAIG,SAAA,EAAU;qBAAU,4BACE,K,aACzB,IAAAP,WAAA,CAAAC,GAAA,EAACmB,KAAA,CAAArD,OAAI;YAACwC,SAAA,EAAU;YAAOc,IAAA,EAAM,wBAAwBlD,WAAA,EAAa;sBAAE;;;;;;AAQhF","ignoreList":[]}