{"version":3,"names":["CarouselForm","form","id","cov_279otw4tlw","f","fields","append","remove","s","_reacthookform","useFieldArray","control","name","watch","formState","errors","_jsxruntime","jsxs","_card","Card","jsx","CardHeader","CardTitle","CardContent","className","map","field","index","_form","FormField","render","FormItem","b","FormLabel","FormControl","_input","Input","placeholder","FormMessage","carousels","title","message","url","buttonCaption","_image","default","src","alt","width","height","_uploadthing","UploadButton","endpoint","onClientUploadComplete","res","setValue","onUploadError","error","_usetoast","toast","variant","description","_button","Button","type","disabled","length","onClick","_lucidereact","TrashIcon","image","isPublished"],"sources":["/home/mark/Downloads/nextjs-amazona-main/app/[locale]/admin/settings/carousel-form.tsx"],"sourcesContent":["'use client'\n\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport {\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { toast } from '@/hooks/use-toast'\nimport { UploadButton } from '@/lib/uploadthing'\nimport { ISettingInput } from '@/types'\nimport { CarouselField, UseFieldArrayProps } from '@/types/form'\nimport { TrashIcon } from 'lucide-react'\nimport Image from 'next/image'\nimport { useFieldArray, UseFormReturn } from 'react-hook-form'\n\ninterface CarouselFormProps {\n  form: UseFormReturn<ISettingInput>\n  id: string\n}\n\nexport default function CarouselForm({ form, id }: CarouselFormProps) {\n  const { fields, append, remove } = useFieldArray<ISettingInput>({\n    control: form.control,\n    name: 'carousels',\n  } as UseFieldArrayProps<ISettingInput>)\n\n  const {\n    watch,\n    formState: { errors },\n  } = form\n\n  return (\n    <Card id={id}>\n      <CardHeader>\n        <CardTitle>Carousels</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"space-y-4\">\n          {fields.map((field, index) => (\n            <div key={field.id} className=\"flex justify-between gap-1 w-full\">\n              <FormField\n                control={form.control}\n                name={`carousels.${index}.title`}\n                render={({ field }) => (\n                  <FormItem>\n                    {index === 0 && <FormLabel>Title</FormLabel>}\n                    <FormControl>\n                      <Input {...field} placeholder=\"Title\" />\n                    </FormControl>\n                    <FormMessage>\n                      {errors.carousels?.[index]?.title?.message}\n                    </FormMessage>\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name={`carousels.${index}.url`}\n                render={({ field }) => (\n                  <FormItem>\n                    {index === 0 && <FormLabel>URL</FormLabel>}\n                    <FormControl>\n                      <Input {...field} placeholder=\"URL\" />\n                    </FormControl>\n                    <FormMessage>\n                      {errors.carousels?.[index]?.url?.message}\n                    </FormMessage>\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name={`carousels.${index}.buttonCaption`}\n                render={({ field }) => (\n                  <FormItem>\n                    {index === 0 && <FormLabel>Caption</FormLabel>}\n                    <FormControl>\n                      <Input {...field} placeholder=\"Button Caption\" />\n                    </FormControl>\n                    <FormMessage>\n                      {errors.carousels?.[index]?.buttonCaption?.message}\n                    </FormMessage>\n                  </FormItem>\n                )}\n              />\n              <div>\n                <FormField\n                  control={form.control}\n                  name={`carousels.${index}.image`}\n                  render={({ field }) => (\n                    <FormItem>\n                      {index === 0 && <FormLabel>Image</FormLabel>}\n                      <FormControl>\n                        <Input placeholder=\"Enter image URL\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {watch(`carousels.${index}.image`) && (\n                  <Image\n                    src={watch(`carousels.${index}.image`)}\n                    alt=\"Carousel image\"\n                    className=\"w-full object-cover object-center rounded-sm\"\n                    width={192}\n                    height={68}\n                  />\n                )}\n                {!watch(`carousels.${index}.image`) && (\n                  <UploadButton\n                    endpoint=\"imageUploader\"\n                    onClientUploadComplete={(res) => {\n                      if (res?.[0]?.url) {\n                        form.setValue(`carousels.${index}.image`, res[0].url)\n                      }\n                    }}\n                    onUploadError={(error: Error) => {\n                      toast({\n                        variant: 'destructive',\n                        description: `Error: ${error.message}`,\n                      })\n                    }}\n                  />\n                )}\n              </div>\n              <div>\n                {index === 0 && <div>Action</div>}\n                <Button\n                  type=\"button\"\n                  disabled={fields.length === 1}\n                  variant=\"outline\"\n                  className={index === 0 ? 'mt-2' : ''}\n                  onClick={() => remove(index)}\n                >\n                  <TrashIcon className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n          ))}\n\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() =>\n              append({\n                title: '',\n                url: '',\n                image: '',\n                buttonCaption: '',\n                isPublished: true,\n              } as CarouselField)\n            }\n          >\n            Add Carousel\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"mappings":"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","ignoreList":[]}