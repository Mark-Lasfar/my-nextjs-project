{"version":3,"names":["cov_6sdb32bsj","actualCoverage","s","GET","f","site","url","_settingactions","getSetting","baseUrl","b","now","Date","toISOString","sitemapFiles","xml","map","loc","join","Response","headers","error","console","status"],"sources":["/home/mark/Downloads/nextjs-amazona-main/app/sitemap-index.xml/route.ts"],"sourcesContent":["import { getSetting } from '@/lib/actions/setting.actions'\n\n\nexport async function GET(): Promise<Response> {\n  try {\n    const { site: { url } } = await getSetting()\n    const baseUrl = url || 'https://hager-zon.vercel.app'\n    const now = new Date().toISOString()\n\n    const sitemapFiles = [\n      `${baseUrl}/sitemap.xml`,\n      `${baseUrl}/sitemap-products.xml`,\n      `${baseUrl}/sitemap-news.xml`,\n      `${baseUrl}/sitemap-blog.xml`,\n      `${baseUrl}/sitemap-images.xml`,\n    ]\n\n    const xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<sitemapindex xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n${sitemapFiles.map(loc => `\n  <sitemap>\n    <loc>${loc}</loc>\n    <lastmod>${now}</lastmod>\n  </sitemap>\n`).join('')}\n</sitemapindex>`\n\n    return new Response(xml, {\n      headers: {\n        'Content-Type': 'application/xml',\n        'Cache-Control': 'public, max-age=3600, s-maxage=3600, stale-while-revalidate=86400',\n      }\n    })\n  } catch (error) {\n    console.error('Error generating sitemap index:', error)\n    return new Response('Error generating sitemap index', { status: 500 })\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOI;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;+BAJkB;;;;;;WAAAC,GAAA;;;;;iCAHK;AAGpB,eAAeA,IAAA;EAAA;EAAAH,aAAA,GAAAI,CAAA;EAAAJ,aAAA,GAAAE,CAAA;EACpB,IAAI;IACF,MAAM;MAAEG,IAAA,EAAM;QAAEC;MAAG;IAAE,CAAE;IAAA;IAAA,CAAAN,aAAA,GAAAE,CAAA,OAAG,MAAM,IAAAK,eAAA,CAAAC,UAAU;IAC1C,MAAMC,OAAA;IAAA;IAAA,CAAAT,aAAA,GAAAE,CAAA;IAAU;IAAA,CAAAF,aAAA,GAAAU,CAAA,UAAAJ,GAAA;IAAA;IAAA,CAAAN,aAAA,GAAAU,CAAA,UAAO;IACvB,MAAMC,GAAA;IAAA;IAAA,CAAAX,aAAA,GAAAE,CAAA,OAAM,IAAIU,IAAA,GAAOC,WAAW;IAElC,MAAMC,YAAA;IAAA;IAAA,CAAAd,aAAA,GAAAE,CAAA,OAAe,CACnB,GAAGO,OAAA,cAAqB,EACxB,GAAGA,OAAA,uBAA8B,EACjC,GAAGA,OAAA,mBAA0B,EAC7B,GAAGA,OAAA,mBAA0B,EAC7B,GAAGA,OAAA,qBAA4B,CAChC;IAED,MAAMM,GAAA;IAAA;IAAA,CAAAf,aAAA,GAAAE,CAAA,OAAM;;AAEhB,EAAEY,YAAA,CAAaE,GAAG,CAACC,GAAA,IAAO;MAAA;MAAAjB,aAAA,GAAAI,CAAA;MAAAJ,aAAA,GAAAE,CAAA;MAAA;;WAEfe,GAAA;eACIN,GAAA;;AAEf,CAAC;IAAD,CAAC,EAAEO,IAAI,CAAC;gBACQ;IAAA;IAAAlB,aAAA,GAAAE,CAAA;IAEZ,OAAO,IAAIiB,QAAA,CAASJ,GAAA,EAAK;MACvBK,OAAA,EAAS;QACP,gBAAgB;QAChB,iBAAiB;MACnB;IACF;EACF,EAAE,OAAOC,KAAA,EAAO;IAAA;IAAArB,aAAA,GAAAE,CAAA;IACdoB,OAAA,CAAQD,KAAK,CAAC,mCAAmCA,KAAA;IAAA;IAAArB,aAAA,GAAAE,CAAA;IACjD,OAAO,IAAIiB,QAAA,CAAS,kCAAkC;MAAEI,MAAA,EAAQ;IAAI;EACtE;AACF","ignoreList":[]}