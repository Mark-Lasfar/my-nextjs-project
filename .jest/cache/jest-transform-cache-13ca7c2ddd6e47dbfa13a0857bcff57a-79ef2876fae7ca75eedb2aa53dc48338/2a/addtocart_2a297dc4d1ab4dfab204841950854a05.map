{"version":3,"names":["AddToCart","item","minimal","cov_wnl5v25cp","b","f","router","s","_navigation","useRouter","toast","_usetoast","useToast","addItem","_usecartstore","default","quantity","setQuantity","_react","useState","t","_nextintl","useTranslations","_jsxruntime","jsx","_button","Button","className","onClick","description","action","push","error","variant","message","jsxs","_select","Select","value","toString","onValueChange","i","Number","SelectTrigger","SelectValue","SelectContent","position","Array","from","length","countInStock","map","_","SelectItem","type","itemId"],"sources":["/home/mark/Downloads/nextjs-amazona-main/components/shared/product/add-to-cart.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n'use client'\n\nimport { Button } from '@/components/ui/button'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport useCartStore from '@/hooks/use-cart-store'\nimport { useToast } from '@/hooks/use-toast'\nimport { OrderItem } from '@/types'\nimport { useTranslations } from 'next-intl'\nimport { useRouter } from 'next/navigation'\nimport { useState } from 'react'\n\nexport default function AddToCart({\n  item,\n  minimal = false,\n}: {\n  item: OrderItem\n  minimal?: boolean\n}) {\n  const router = useRouter()\n  const { toast } = useToast()\n\n  const { addItem } = useCartStore()\n\n  //PROMPT: add quantity state\n  const [quantity, setQuantity] = useState(1)\n\n  const t = useTranslations()\n\n  return minimal ? (\n    <Button\n      className=\"rounded-full w-auto\"\n      onClick={() => {\n        try {\n          addItem(item, 1)\n          toast({\n            description: t('Product.Added to Cart'),\n            action: (\n              <Button\n                onClick={() => {\n                  router.push('/cart')\n                }}\n              >\n                {t('Product.Go to Cart')}\n              </Button>\n            ),\n          })\n        } catch (error: any) {\n          toast({\n            variant: 'destructive',\n            description: error.message,\n          })\n        }\n      }}\n    >\n      {t('Product.Add to Cart')}\n    </Button>\n  ) : (\n    <div className=\"w-full space-y-2\">\n      <Select\n        value={quantity.toString()}\n        onValueChange={(i) => setQuantity(Number(i))}\n      >\n        <SelectTrigger className=\"\">\n          <SelectValue>\n            {t('Product.Quantity')}: {quantity}\n          </SelectValue>\n        </SelectTrigger>\n        <SelectContent position=\"popper\">\n          {Array.from({ length: item.countInStock }).map((_, i) => (\n            <SelectItem key={i + 1} value={`${i + 1}`}>\n              {i + 1}\n            </SelectItem>\n          ))}\n        </SelectContent>\n      </Select>\n\n      <Button\n        className=\"rounded-full w-full\"\n        type=\"button\"\n        onClick={async () => {\n          try {\n            const itemId = await addItem(item, quantity)\n            router.push(`/cart/${itemId}`)\n          } catch (error: any) {\n            toast({\n              variant: 'destructive',\n              description: error.message,\n            })\n          }\n        }}\n      >\n        {t('Product.Add to Cart')}\n      </Button>\n      <Button\n        variant=\"secondary\"\n        onClick={() => {\n          try {\n            addItem(item, quantity)\n            router.push(`/checkout`)\n          } catch (error: any) {\n            toast({\n              variant: 'destructive',\n              description: error.message,\n            })\n          }\n        }}\n        className=\"w-full rounded-full \"\n      >\n        {t('Product.Buy Now')}\n      </Button>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]}